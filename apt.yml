---
- include_vars: vars.yml
- name: Add apt keys
  become: yes
  apt_key: keyserver={{ item.value.keyserver }} id={{ item.value.key }}
  with_dict: "{{ repositories }}"
- name: Add apt repositories
  become: yes
  apt_repository: repo={{ item }}
  with_dict: "{{ ppas }}"
- name: Add ppa repostiories
  apt_repository: repo='ppa:webupd8team/java' state=present
- name: Install packages
  become: yes
  apt: pkg={{ item }} state=latest update_cache=true
  with_items: "{{ packages }}"